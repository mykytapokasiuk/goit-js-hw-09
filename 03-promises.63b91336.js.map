{"mappings":"gfAAA,IAAAA,EAAe,CACbC,uBAAwBC,SAASC,cAAc,gBAC/CC,sBAAuBF,SAASC,cAAc,eAC9CE,aAAcH,SAASC,cAAc,QACrCG,gBAAiBJ,SAASC,cAAc,gBACxCI,gBAAiBL,SAASC,cAAc,gBACxCK,oBAAqBN,SAASO,eAAe,mBAC7CC,kBAAmBR,SAASC,cAAc,eAC1CQ,mBAAoBT,SAASC,cAAc,gBAC3CS,qBAAsBV,SAASC,cAAc,kBAC7CU,qBAAsBX,SAASC,cAAc,kBAC7CW,iBAAkBZ,SAASC,cAAc,UCX3CY,EAAAC,EAAA,SAWA,MAAMC,EAAW,CAACC,EAAOC,KACvBD,EAAME,iBACN,MACEC,UAAUC,MAAEA,EAAKC,KAAEA,EAAIC,OAAEA,IACvBN,EAAMO,cACV,GAAIH,EAAMI,MAAQ,GAAKH,EAAKG,MAAQ,GAAKF,EAAOE,OAAS,EAWvD,YAVAX,EAAAY,OAAOC,QAAQ,iCAAkC,CAC/CC,MAAO,QACPC,oBAAoB,EACpBC,SAAU,eACVC,SAAU,OACVC,QAAS,IACTC,SAAU,OACVC,aAAc,MACdC,kBAAmB,gBAIvB,IAAIC,IAAef,EAAMI,MAEzB,IAAK,IAAIY,EAAI,EAAGA,EAAId,EAAOE,MAAOY,IAChCnB,EAASmB,EAAGD,GACTE,MAAK,EAACR,SAAEA,EAAQT,MAAEA,MACjBP,EAAAY,OAAOa,QAAQ,qBAAqBT,EAAW,QAAQT,MAAW,CAChEO,MAAO,QACPE,SAAU,YACVC,SAAU,OACVE,SAAU,OACVC,aAAc,OAChB,IAEDM,OAAM,EAACV,SAAEA,EAAQT,MAAEA,MAClBP,EAAAY,OAAOC,QAAQ,oBAAoBG,EAAW,QAAQT,MAAW,CAC/DO,MAAO,QACPE,SAAU,YACVC,SAAU,OACVE,SAAU,OACVC,aAAc,OAChB,IAEJE,KAAgBd,EAAKG,KACvB,EC1CF,SAASgB,EAAcX,EAAUT,GAC/B,MAAMqB,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3BC,YAAW,KACLN,EACFI,EAAQ,CACNhB,SAAUA,EACVT,MAAOA,IAGT0B,EAAO,CACLjB,SAAUA,EACVT,MAAOA,GACT,GAEDA,EAAA,GAEP,CAEAtB,EAAKc,iBAAiBoC,iBAAiB,UAAUhC,IAC/CD,EAASC,EAAOwB,EAAA,G","sources":["src/js/references.js","src/js/functions/functions-promises.js","src/js/03-promises.js"],"sourcesContent":["export default {\n  start_color_change_btn: document.querySelector('[data-start]'),\n  stop_color_change_btn: document.querySelector('[data-stop]'),\n  body_element: document.querySelector('body'),\n  start_timer_btn: document.querySelector('[data-start]'),\n  reset_timer_btn: document.querySelector('[data-reset]'),\n  input_timer_element: document.getElementById('datetime-picker'),\n  data_days_element: document.querySelector('[data-days]'),\n  data_hours_element: document.querySelector('[data-hours]'),\n  data_minutes_element: document.querySelector('[data-minutes]'),\n  data_seconds_element: document.querySelector('[data-seconds]'),\n  prs_form_element: document.querySelector('.form'),\n};\n","import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\n/**\n * @callback callback\n */\n/**\n * Gets form data, calls the callback function as many times as entered in the amount field, handles callback(promise)\n * @function onSubmit\n * @param {event} event\n * @param {callback} callback\n */\nconst onSubmit = (event, callback) => {\n  event.preventDefault();\n  const {\n    elements: { delay, step, amount },\n  } = event.currentTarget;\n  if (delay.value < 0 || step.value < 0 || amount.value <= 0) {\n    Notify.failure('Please choose a positive value', {\n      width: '260px',\n      showOnlyTheLastOne: true,\n      position: 'right-bottom',\n      distance: '40px',\n      timeout: 2000,\n      fontSize: '15px',\n      borderRadius: '8px',\n      cssAnimationStyle: 'from-bottom',\n    });\n    return;\n  }\n  let totalDelay = ~~delay.value;\n\n  for (let i = 0; i < amount.value; i++) {\n    callback(i, totalDelay)\n      .then(({ position, delay }) => {\n        Notify.success(`Fulfilled promise ${position + 1} in ${delay}ms`, {\n          width: '260px',\n          position: 'right-top',\n          distance: '40px',\n          fontSize: '15px',\n          borderRadius: '8px',\n        });\n      })\n      .catch(({ position, delay }) => {\n        Notify.failure(`Rejected promise ${position + 1} in ${delay}ms`, {\n          width: '260px',\n          position: 'right-top',\n          distance: '40px',\n          fontSize: '15px',\n          borderRadius: '8px',\n        });\n      });\n    totalDelay += ~~step.value;\n  }\n};\n\nexport { onSubmit };\n","import Refs from './references';\nimport { onSubmit } from './functions/functions-promises';\n\n/**\n * Creates promise\n * @function createPromise\n * @param {number} position Number of promise\n * @param {number} delay Form data (first delay + delay step)\n * @returns {Promise} Promise\n */\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({\n          position: position,\n          delay: delay,\n        });\n      } else {\n        reject({\n          position: position,\n          delay: delay,\n        });\n      }\n    }, delay);\n  });\n}\n\nRefs.prs_form_element.addEventListener('submit', event => {\n  onSubmit(event, createPromise);\n});\n"],"names":["$bee5d1d57104ce6c$export$2e2bcd8739ae039","start_color_change_btn","document","querySelector","stop_color_change_btn","body_element","start_timer_btn","reset_timer_btn","input_timer_element","getElementById","data_days_element","data_hours_element","data_minutes_element","data_seconds_element","prs_form_element","$h6c0i","parcelRequire","$bbc5b061e377c1b1$export$307d29742c654737","event","callback","preventDefault","elements","delay","step","amount","currentTarget","value","Notify","failure","width","showOnlyTheLastOne","position","distance","timeout","fontSize","borderRadius","cssAnimationStyle","totalDelay","i","then","success","catch","$ce04d3a99e08e73b$var$createPromise","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","addEventListener"],"version":3,"file":"03-promises.63b91336.js.map"}